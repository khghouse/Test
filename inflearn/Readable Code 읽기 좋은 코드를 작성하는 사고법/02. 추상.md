
## 우리가 클린 코드를 추구하는 이유

가독성 (Readability)
- 글(코드)이 잘 읽힌다. = 이해가 잘 된다.
  - 유지보수 하기가 수월하다.
  - 우리의 시간과 자원이 절약된다.

클린 코드를 지칭하는 원칙과 조언을 왜 지켜야 하는가? 를 이해해야 한다.

추상 : 클린 코드를 관통하는 중요한 주제 중 하나

<br />

## 프로그램의 정의

프로그램 = 데이터 + 코드

<br />

## 추상과 구체

추상
- 구체적인 정보에서 어떤 이미지를 뽑아낸다. -> 특정한 측면만을 가려내어 포착
- 중요한 정보는 가려내어 남기고, 덜 중요한 정보는 생략하여 버린다.
  - 구체로부터 추상을 해낸다.
    - 구체 -> 추상 : 정보 함축, 제거 추상화
    - 구체 <- 추상 : 유추, 정보 재현 이해

적절한 추상화는 복잡한 데이터와 복잡한 로직을 단순화하여 이해하기 쉽도록 돕는다. = 읽기가 좋다.

추상으로부터 구체를 유추하지 못하는 이유
- 추상화 과정에서 중요한 정보를 부각시키지 못했다.
  - 상대적으로 덜 중요한 정보를 남기고 중요한 정보는 제거했다.
- 해석자가 동일하게 공유하는 문맥(Context)이 없다.
  - 중요한 정보의 기준이 다를 수 있다.
  - 즉, 도메인 영역별 추상화 기준이 다를 수 있다.

잘못된 추상화가 야기하는 사이드 이펙트는 생각보다 크다.

적절한 추상화는 해당 도메인의 문맥 안에서 정말 중요한 핵심 개념만 남겨서 표현하는 것
- 추상화의 가장 대표적인 행위 : 이름을 짓는다.

<br />

## 이름 짓기

이름을 짓는다는 행위는 추상적 사고를 기반으로 한다.

추상적 사고
- 표현하고자 하는 구체에서 정말 중요한 핵심 개념만을 추출하여 잘 드러내는 표현
- 우리 도메인의 문맥 안에서 이해되는 용어

이름 짓기
- 단수와 복수를 구분하기
  - 끝에 '-(e)s'를 붙여 어떤 데이터가 단수인지, 복수인지를 나타내는 것만으로도 읽는 이에게 중요한 정보를 같이 전달할 수 있다.
- 이름 줄이지 않기
  - 자제하는 것이 좋으나 관용어처럼 많은 사람들이 자주 사용하는 줄임말 정도는 존재한다.
    - col, lat, lon
    - count -> cnt (추천 x)
  - 대부분의 경우는 온전한 단어를 쓰는 게 좋다.
  - 자주 사용하는 줄임말이 이해될 수 있는 것은 문맥 때문
    - Class A { int col; } // 추측이 어려움
    - Class TableCell { int col; } // 컬럼으로 추측
- 은어/방언 사용하지 않기
  - 농담에서 파생된 용어
  - 일부 팀원/현재의 우리 팀만 아는 용어 금지 -> 새로운 사람이 팀에 합류했을 때 이 용어를 단번에 이해할 수 있을지 생각해보자
  - 도메인 용어 사용하기
    - 매장 : shop?, store?
      - 우리 도메인에 맞게 매장이라는 단어를 정의하자.
- 좋은 코드를 보고 습득하기
  - 비슷한 상황에서 자주 사용하는 단어, 개념 습득하기
    - 우리가 사용하는 라이브러리나 프레임워크에 녹여져 있는 코드, 단어를 유심히보자.

<br />

## 메서드와 추상화

한 문단의 주제는 반드시 하나다.  
-> 잘 쓰여진 코드라면, 한 메서드의 주제는 반드시 하나다.

메서드의 이름으로 구체적인 내용을 추상화
- 메서드명은 구현부를 추상화하여 한 문단의 주제처럼 요약된 중요한 내용을 갖는다.

<br />

## 메서드 선언부

반환타입 메서드명 ( 파라미터 ) { }
- 메서드 선언부 : 반환타입 메서드명 ( 파라미터 )
- 메서드 시그니처 (오버로딩) : 메서드명 ( 파라미터 )
- 메서드 구현부 : { }

메서드명
- 추상화된 구체를 유추할 수 있는 적절한 의미가 담긴 이름
- 파라미터와 연결 지어 더 풍부한 의미를 전달할 수도 있다.

파라미터
- 파라미터의 타입, 개수, 순서를 통해 의미를 전달
- 파라미터는 외부 세계와 소통하는 창
  - 이 메서드를 사용하기 위한 방법 또는 필요한 값을 표현한다.

반환 타입
- 메서드 시그니처에 납득이 가는 적절한 타입의 반환 값 돌려주기
- void 대신 충분히 반환할 만한 값이 있는지 고민해 보기
  - 반환 값이 있다면 테스트도 용이해 진다.

메서드 선언부 전체가 메서드 추상화에 기여한다.

```java
/* "shopId_yyyy-MM-dd" 형태의 데일리 샵 키를 만들어 주는 메서드의 선언부를 아래와 같이 설계할 수 있다. */

// 1
// 날짜 값을 나타내는 문자열을 넣어줘야 하는데 어떤 포맷인지 알 수 없다.
String createDailyShopKey(String shopId, String localDateString);

// 2
// 데이터 타입이 LocalDate로 명확하다
// 변수명 또한 어떤 날짜 값이 필요한지 잘 나타내고 있다.
String createDailyShopKey(String shopId, LocalDate sellingDate);
```

<br />

## 추상화 레벨

하나의 세계(메서드, 객체) 안에서는 추상화 레벨이 동등해야 한다.

```java
public static void main(String[] args) {
    // 추상화 레벨이 높음
    showGameStartComments();
    initializeGame();
    showBoard();
    ...
        
    // 추상화 레벨이 낮음
    if (gameStatus == 1) {
        ...
        break;
    }
        
    ...
}
```
위 코드를 읽다 보면 if문에서 막히게 된다. -> 서로 추상화 레벨이 다르기 때문
- 위와 같은 경우 동등한 추상화 레벨로 맞추는 과정이 필요하다.

```java
// 추상화 레벨을 맞춤
if (doesUserWinTheGame()) {
    ...
    break;
}

private boolean doesUserWinTheGame() {
    return gameStatus == 1;
}
```

<br />

## 매직 넘버, 매직 스트링

- 의미를 갖고 있으나, 상수로 추출되지 않은 숫자, 문자열 등
- 상수 추출로 이름을 짓고 의미를 부여함으로써 가독성, 유지보수성 증가

<br />

## 키워드 정리

- 추상과 구체
- 이름 짓기
- 메서드 선언부
- 추상화 레벨
- 매직 넘버, 매직 스트링
